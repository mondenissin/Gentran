<div class="breadcrumb monitor-menu">
   <!-- <b class="page-top-header">Monitoring</b>-->
    <ul class="nav nav-tabs skin-blue">
        <li><a data-toggle="tab" href="/#POMonitoring"><b>PO Monitoring</b></a></li>
        <li><a data-toggle="tab" href="/#TransactionLogs"><b>Transaction Logs</b></a></li>
    </ul>
</div>


<div class="page-table">
    <div class="tab-content">
        <div id="POMonitoring" class="tab-pane active ">
            <div class="pull-left" style="line-height: 40px;">
                <div class="form-inline">
                    <label >N/A = <span style="color:red;">Not Yet Processed</span></label>
                </div>
            </div>
            <div class="pull-right">
                <div class="form-inline">
                    <select ng-model="searchByPO" class="form-control" ng-change="clearSearch()">
                        <option value="ULPONumber" selected>PO Number</option>
                        <option value="RFFilename">Filename</option>
                    </select>
                    <input type="text" ng-model="searchPO[searchByPO]" ng-model-options="{debounce: {'default': 100, 'blur': 0}}" class="form-control" placeholder="Search" />
                </div>
            </div><br /><br />

            
            <table id="PageTable" dt-column-defs="dtColumnDefs" datatable="ng" dt-options="dtOptions" class="table table-responsive table-bordered bordered table-striped table-condensed datatable table-font" >
                <thead>
                    <tr>
                        <th style="width:30%;">Filename</th>
                        <th>PO #</th>
                        <th>Retrieve Date</th>
                        <th>Read Date</th>
                        <th>Submitted Date</th>
                        <th>Reader</th>
                        <th>Submitted By</th>
                        <th>Status</th>
                        <th>Account</th>
                        <th class="no-sort" style="width:30%;">Options</th>
                    </tr>
                </thead>
                <tbody style="text-align:center;">
                    <tr ng-repeat="m in filterMonitor | start: (currentPage - 1) * entryLimit | limitTo: entryLimit"  >
                        <td ng-cloak class="table-data-ponum center" >{{m.RFFilename}}</td>
                        <td ng-cloak class="table-data-ponum center">{{m.ULPONumber == NULL || m.ULPONumber == "" ? 'N/A' : m.ULPONumber}}</td>
                        <td ng-cloak class="table-data-rrtdate center">{{m.RFRetrieveDate}}</td>
                        <td ng-cloak class="table-data-rrddate center">{{m.RFReadDate}}</td>
                        <td ng-cloak class="table-data-rsdate center">{{m.RFSubmitDate == NULL || m.RFSubmitDate == "" ? "N/A" : m.RFSubmitDate}}</td>
                        <td ng-cloak class="table-data-rrddate center">{{m.RFReadUser == NULL || m.RFReadUser == "" ? "N/A" : m.RFReadUser }}</td>
                        <td ng-cloak class="table-data-rsuser center">{{m.RFSubmitUser == NULL || m.RFSubmitUser == "" ? "N/A" : m.RFSubmitUser}}</td>
                        <td ng-cloak class="table-data-rsstatus center">{{m.RFStatus}}</td>
                        <td ng-cloak class="table-data-rsuser center">{{m.RFAccount}}</td>
                        <td ng-cloak>
                           <button class="btn btn-default btn-xs option-icon-size" ng-click="showDetails(m)" title="PO Details"><i class="fa fa-info"></i></button>
                        <button class="btn btn-default btn-xs option-icon-size" ng-click="GenerateXml(m)" title="Download File" ><i class="fa fa-download"></i></button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <pagination data-boundary-links="true" data-num-pages="noOfPages" data-current-page="currentPage" max-size="pageSize" class="pagination-small" data-previous-text="&laquo;" data-next-text="&raquo;"></pagination>
        </div>

        <div id="TransactionLogs" class="tab-pane fade">

            <div class="pull-right">
                <div class="form-inline">
                    <select ng-model="searchByTransaction" class="form-control" ng-change="clearSearch()">
                        <option value="TLId" selected>Transaction ID</option>
                        <option value="TADescription">Description</option>
                        <option value="TLValue">PO Number</option>
                        <option value="TLRemarks">Remarks</option>
                    </select>
                    <input type="text" ng-model="searchTransaction[searchByTransaction]" ng-model-options="{debounce: {'default': 100, 'blur': 0}}" class="form-control" placeholder="Search" />
                </div>
            </div><br /><br />

            <table id="PageTable" dt-column-defs="dtColumnDefsTrans" datatable="ng" dt-options="dtOptionsTrans" class="table table-responsive table-bordered bordered table-striped table-condensed datatable table-font">
                <thead>
                    <tr>
                        <th style="width: 5%;">Code</th>
                        <th>Date</th>
                        <th style="width: 15%;">Description</th>
                        <th>Value</th>
                        <th style="width: 65%;">Remarks</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="t in filterTransaction | start: (currentPage - 1) * entryLimit | limitTo: entryLimit">
                        <td ng-cloak class="table-data-tlcode center">{{t.TLId}}</td>
                        <td ng-cloak class="table-data-tldate center">{{t.TLDate}}</td>
                        <td ng-cloak class="table-data-tldesc center" >{{t.TADescription}}</td>
                        <td ng-cloak class="table-data-tlvalue center">{{t.TLValue}}</td>
                        <td ng-cloak class="table-data-tlremarks center">{{t.TLRemarks}}</td>
                    </tr>
                </tbody>
            </table>
            <pagination data-boundary-links="true" data-num-pages="noOfPages" data-current-page="currentPage" max-size="pageSize" class="pagination-small" data-previous-text="&laquo;" data-next-text="&raquo;"></pagination>
        </div>
    </div>
</div>


<!------- VIEW COMPLETE DETAILS MODAL ------->
<div id="ViewPODetailsModal" class="modal fade" role="dialog">
    <div class="modal-dialog ">

        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" ><i class="fa fa-user"></i> Details for PO Number # <b><span id="txt_ponum"></span></b></h4>
            </div>
            <div class="modal-body">
                <table class="table">
                    <tr>
                        <td style="width:150px; font-weight:bold;">Customer #: </td>
                        <td id="txt_custnum"></td>
                    </tr>
                    <tr>
                        <td style="width:150px; font-weight:bold;">Customer Name: </td>
                        <td id="txt_custname"></td>
                    </tr>
                    <tr>
                        <td style="width:150px; font-weight:bold;">Order Date: </td>
                        <td id="txt_orderdate"></td>
                    </tr>
                    <tr>
                        <td style="width:150px; font-weight:bold;">Delivery Date: </td>
                        <td id="txt_deliverydate"></td>
                    </tr>
                    <tr>
                        <td style="width:150px; font-weight:bold;">Retrieve Date: </td>
                        <td id="txt_retrievedate"></td>
                    </tr>
                    <tr>
                        <td style="width:150px; font-weight:bold;">Read Date: </td>
                        <td id="txt_readdate"></td>
                    </tr>
                    <tr>
                        <td style="width:150px; font-weight:bold;">Submitted Date: </td>
                        <td id="txt_submitteddate"></td>
                    </tr>
                    <tr>
                        <td style="width:150px; font-weight:bold;">Reader: </td>
                        <td id="txt_reader"></td>
                    </tr>
                    <tr>
                        <td style="width:150px; font-weight:bold;">Submitted By: </td>
                        <td id="txt_submittedby"></td>
                    </tr>
                    <tr>
                        <td style="width:150px; font-weight:bold;">Total SKU: </td>
                        <td id="txt_sku"></td>
                    </tr>
                    <tr>
                        <td style="width:150px; font-weight:bold;">Total Quantity: </td>
                        <td id="txt_qty"></td>
                    </tr>
                    <tr>
                        <td style="width:150px; font-weight:bold;">Total Amount: </td>
                        <td id="txt_amount"></td>
                    </tr>
                    <tr>
                        <td style="width:150px; font-weight:bold;">Account: </td>
                        <td id="txt_account"></td>
                    </tr>
                </table>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default btn-sm pull-right" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!------- END OF VIEW COMPLETE DETAILS MODAL ------->
